[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Brenden’s Website",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": ".",
    "section": "",
    "text": "news\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nDec 4, 2022\n\n\nBrenden Bready\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nOct 21, 2022\n\n\nTristan O’Malley\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Final Project",
    "section": "",
    "text": "Data Description\nThe data is presented in 8 different data sets containing hundreds of stats for each player in the FIFA video game. Each player in the game has 6 base statistics: pace, shooting, dribbling, passing, defending, and physical. Each stat is scored from 1-99, with 1 being the lowest and 99 being the highest. Generally, no player will ever have a stat lower than 10, and stats above 90 are fairly uncommon and reserved for only the best. For example, you might expect a forward to have somewhere around 70-80 shooting, and maybe 30-40 defending, while a defender will have opposite stats. The stats determine how well the player plays during a game.\n\nplayers15 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_15.csv\")\nplayers16 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_16.csv\")\nplayers17 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_17.csv\")\nplayers18 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_18.csv\")\nplayers19 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_19.csv\")\nplayers20 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_20.csv\")\nplayers21 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_21.csv\")\nplayers22 = read.csv(\"C:/Users/bbb59/OneDrive/Documents/VirginiaTech/Programming/players_22.csv\")\n\n\n\nData Organization\nThe first step in the analysis was to organize the data. When read in, each data set had over 100 columns corresponding to various details about a player’s stats. To simplify this, I will select out a player’s base stats (pace, shooting, passing, dribbling, defending, physical) as well as some details about the player for potential related analysis. I will also add a year variable to each data set, which will be helpful in the next step when combining them.\n\n# Reorganizing Fifa 15 set\nplayers15 = players15 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 15)\n\n# Reorganizing Fifa 16 set\nplayers16 = players16 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 16)\n\n# Reorganizing Fifa 17 set\nplayers17 = players17 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 17)\n\n# Reorganizing Fifa 18 set\nplayers18 = players18 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 18)\n\n# Reorganizing Fifa 19 set\nplayers19 = players19 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 19)\n\n# Reorganizing Fifa 20 set\nplayers20 = players20 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 20)\n\n# Reorganizing Fifa 21 set\nplayers21 = players21 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 21)\n\n# Reorganizing Fifa 22 set\nplayers22 = players22 %>%\n  select(sofifa_id, short_name, player_positions, overall, value_eur, age, height_cm, weight_kg, club_position, preferred_foot, weak_foot, skill_moves, pace, shooting, passing, dribbling, defending, physic) %>%\n  mutate(year = 22)\n\nAfter the data is organized, I will use the full_join() to merge the datasets. I use full_join() so that I can have details about every player split up by the year. This is also a good way to only include players who were in each FIFA from 2015-2022 to help with consistency. For example, if you filter the dataset to only include details about Lionel Messi, you will see his stats for each year from 2015-2022. As a note, I have removed goalkeepers from the analysis since their stats are different from other outfield players. An example of the data filtered to only details Messi is shown below.\n\n# Combining all datasets into one\njoin1 = full_join(players15, players16)\njoin2 = full_join(join1, players17)\njoin3 = full_join(join2, players18)\njoin4 = full_join(join3, players19)\njoin5 = full_join(join4, players20)\njoin6 = full_join(join5, players21)\nfulldata = full_join(join6, players22) %>%\n  filter(player_positions != \"GK\") %>%\n  mutate(year = as.factor(year)) %>%\n  group_by(sofifa_id) %>%\n  filter(n() == 8) %>%\n  ungroup(sofifa_id)\nfulldata %>%\n  filter(sofifa_id == 158023) \n\n# A tibble: 8 x 19\n  sofifa_id short_name player_positions overall value_eur   age height_cm\n      <int> <chr>      <chr>              <int>     <dbl> <int>     <int>\n1    158023 L. Messi   CF                    93 100500000    27       169\n2    158023 L. Messi   RW, CF                94 111000000    28       170\n3    158023 L. Messi   RW                    93  89000000    29       170\n4    158023 L. Messi   RW                    93 105000000    30       170\n5    158023 L. Messi   CF, RW, ST            94 110500000    31       170\n6    158023 L. Messi   RW, CF, ST            94  95500000    32       170\n7    158023 L. Messi   RW, ST, CF            93 103500000    33       170\n8    158023 L. Messi   RW, ST, CF            93  78000000    34       170\n# ... with 12 more variables: weight_kg <int>, club_position <chr>,\n#   preferred_foot <chr>, weak_foot <int>, skill_moves <int>, pace <int>,\n#   shooting <int>, passing <int>, dribbling <int>, defending <int>,\n#   physic <int>, year <fct>\n\n\n\n\nCreating Dummy variables\nTo help with categorical analysis, I will create a dummy variable for the player’s position. To do this, I will first create a general position column to designate if a player is a defender, midfielder, or forward. After this, I will create three separate columns with 1s and 0s to use as the dummy variables.\n\n# To get position categories\nfulldata = fulldata %>%\n  mutate(position = ifelse(str_detect(player_positions, (\"CB|RB|LB|LWB|RWB\")), \"defender\", \n                           ifelse(str_detect(player_positions, (\"CDM|CM|CAM|LM|RM\")), \"midfielder\", \"forward\"))) %>%\n  mutate(defender = ifelse(position == \"defender\", 1, 0), \n         midfielder = ifelse(position == \"midfielder\", 1, 0),\n         forward = ifelse(position == \"forward\", 1, 0))\n\n\n\nBasic Correlation Matrix\nTo start my analysis, I create a filtered dataset only containing the base player statistics for each player. I will then view a correlation matrix to see which statistics are correlated with each other\n\nstatdata = fulldata %>%\n  select(pace, shooting, dribbling, passing, defending, physic)\ncor(statdata)\n\n                pace   shooting  dribbling     passing   defending      physic\npace       1.0000000  0.3592268  0.5518387  0.27789141 -0.34293357 -0.26751919\nshooting   0.3592268  1.0000000  0.7759387  0.66066848 -0.47888212 -0.12333463\ndribbling  0.5518387  0.7759387  1.0000000  0.82961335 -0.27170214 -0.20193854\npassing    0.2778914  0.6606685  0.8296133  1.00000000  0.05166898 -0.03067526\ndefending -0.3429336 -0.4788821 -0.2717021  0.05166898  1.00000000  0.53888432\nphysic    -0.2675192 -0.1233346 -0.2019385 -0.03067526  0.53888432  1.00000000\n\n\nFrom the correlation matrix, we see that the most correlated statistics are dribbling and passing. These statistics are typically the highest for midfield players, and tend to be the most balanced statistics. Defending and physical also have a mild positive correlation, mostly because of defensive players being high in both of these stats. The strongest negative correlation is between shooting and defending, which is exactly what would be expected with players that are good at shooting being bad at defending, and vice versa.\n\n\nStats across different years\nTo start with the year by year analysis, I will first look at the mean total stats for each year. As shown below, it appears that the mean total base stats may have slightly increased from FIFA 15, but have remained relatively consistent from FIFA 17 to today.\n\nfulldata %>%\n  mutate(totalstats = pace + shooting + dribbling + passing + defending + physic) %>%\n  group_by(year) %>%\n  summarise(mean(totalstats))\n\n# A tibble: 8 x 2\n  year  `mean(totalstats)`\n  <fct>              <dbl>\n1 15                  363.\n2 16                  376.\n3 17                  381.\n4 18                  385.\n5 19                  387.\n6 20                  388.\n7 21                  388.\n8 22                  386.\n\n\nNext, I will look at the mean for each stat by year. After viewing these, it seems that shooting, dribbling, passing, defending, and physical might mildly increase from year to year, while pace appears to be slowly declining.\n\nfulldata %>%\n  group_by(year) %>%\n  summarise(mean(pace), mean(shooting), mean(dribbling), mean(passing), mean(defending), mean(physic))\n\n# A tibble: 8 x 7\n  year  `mean(pace)` `mean(shooting)` `mean(dribbling)` `mean(passing)`\n  <fct>        <dbl>            <dbl>             <dbl>           <dbl>\n1 15            71.3             53.2              63.4            58.0\n2 16            71.9             55.5              65.9            60.8\n3 17            71.9             56.5              66.8            62.0\n4 18            71.0             57.4              67.4            62.9\n5 19            69.7             58.0              67.7            63.6\n6 20            68.4             58.5              67.8            64.1\n7 21            67.3             58.8              67.8            64.4\n8 22            65.9             59.0              67.6            64.4\n# ... with 2 more variables: `mean(defending)` <dbl>, `mean(physic)` <dbl>\n\n\nSince this is hard to show a clear association, I will start by filtering the data set to only look at forwards and only look at their shooting statistic since it is generally the most important attribute for a forward player. I will also do the same with defenders and their defending stats.\n\nfulldata %>%\n  filter(position == \"forward\") %>%\n  ggplot(., aes(x = year, y = shooting, fill = year)) +\n  geom_violin() + \n  theme_bw() + \n  ggtitle(\"Shooting Statistics of Forwards by Year\")\n\n\n\n\n\nfulldata %>%\n  filter(position == \"defender\") %>%\n  ggplot(., aes(x = year, y = defending, fill = year)) +\n  geom_violin() + \n  theme_bw() + \n  ggtitle(\"Defending Statistics of Defenders by Year\")\n\n\n\n\nAs seen in the first plot above, it appears that forward player’s shooting does appear to gradually increase from year to year, while the defending statistic for defenders appears to do the same.\n\n\nRelationships between shooting and defending\nAnother bit of interesting analysis could be the relationship between shooting and defending for offensive and defensive players. Without looking at the data, I would hypothesize that forward players have a 2:1 relationship with shooting to defending, and defensive players have a 2:1 relationship with defending to shooting, but I’m curious to see if my hypothesis for this is wrong. To do this, I will filter the data sets by position, and then compute these ratios as well as displaying a plot to show the relationship.\n\nfulldata %>%\n  filter(position == \"forward\") %>%\n  mutate(shootdef = shooting/defending) %>%\n  summarise('Average forward shooting/defending' = mean(shootdef), var(shootdef))\n\n# A tibble: 1 x 2\n  `Average forward shooting/defending` `var(shootdef)`\n                                 <dbl>           <dbl>\n1                                 2.19           0.235\n\n\n\nfulldata %>%\n  filter(position == \"defender\") %>%\n  mutate(defshoot = defending/shooting) %>%\n  summarise('Average defender defending/shooting' = mean(defshoot), var(defshoot))\n\n# A tibble: 1 x 2\n  `Average defender defending/shooting` `var(defshoot)`\n                                  <dbl>           <dbl>\n1                                  1.61           0.243\n\n\n\nfulldata %>%\n  mutate(shootdef = shooting/defending) %>%\n  ggplot(., aes(x = position, y = shootdef, fill = position)) + \n  geom_boxplot() + \n  ggtitle(\"Ratio of Shooting to Defending by Position\")\n\n\n\n\nFrom the summary statistics, we can see that the ratios are not quite as identical as predicted. Because of this, I will perform a two sample t-test to compare the means to see if they are actually different.\n\nforwardvec = fulldata %>%\n  filter(position == \"forward\") %>%\n  mutate(shootdef = shooting/defending) %>%\n  select(shootdef)\ndefendvec = fulldata %>%\n  filter(position == \"defender\") %>%\n  mutate(defshoot = defending/shooting) %>%\n  select(defshoot)\nt.test(forwardvec, defendvec)\n\n\n    Welch Two Sample t-test\n\ndata:  forwardvec and defendvec\nt = 60.282, df = 5945.5, p-value < 2.2e-16\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n 0.5630099 0.6008590\nsample estimates:\nmean of x mean of y \n 2.187055  1.605121 \n\n\nBased on the t-test above, we see that the p-value \\(\\approx\\) 0, and so we can reject the null hypothesis and conclude that there is significant evidence that the mean ratio for shooting to defending stats for forwards is significantly different (and greater) than the mean ratio for defending to shooting stats for defenders.\nTo interpret this is more context, we see that forwards are worse at defending than defenders are at shooting, suggesting that defenders are more balanced players overall than forwards.\n\n\nTotal stats by age\nOne other bit of analysis to consider is age. While a player’s ability might slightly decrease as they get older and closer to retirement, sometimes their FIFA stats do not reflect the same way. In soccer, many people would consider a player’s prime to be around their mid to late 20s. In this next step, I will try and look at what age a player’s peak FIFA stats are. Since a player’s position may vary throughout their career, I will only do this with their total stats (not broken down by individual stats), broken down by player position.\n\nfulldata %>%\n  mutate(totalstats = pace + shooting + dribbling + passing + defending + physic) %>%\n  group_by(sofifa_id) %>%\n  slice_max(totalstats) %>%\n  ungroup(sofifa_id) %>%\n  mutate(position = as.factor(position)) %>%\n  ggplot(., aes(x= position, y = age, fill = position)) + \n  geom_violin() +\n  theme_bw()\n\n\n\n\nWhile I thought that the mean might have been in the lower 30s, it appears that is is exactly what was anticipated around 27. The data is also right skewed, which is expected because very few players hit their peak in their early 20s. It also appears that position does not make a difference as they all have roughly the same distribution.\n\n\nPotential Future Analysis\nWhile I was unable to find a relationship with time as I had hoped, there is lots of work that could be done in the future with time series analysis to analyze this data. This could be done on a player-by-player case, tracking player growth from year to year and going further into that analysis. It also might be more useful to restrict the analysis to player above a certain rating or players from certain leagues. FIFA contains over 15,000 players from various leagues, but in reality less than 1000 are actually regularly used in the game. I am unsure as to whether only performing the analysis on relevant players would provide different results, but it might be something interesting to investigate."
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "Since this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  }
]